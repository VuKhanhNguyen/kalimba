:root {
  /* Premium Modern Color Palette */
  --primary: #00d2ff;
  --primary-hover: #3a7bd5;
  --primary-inverse: #ffffff;
  --secondary: #9d50bb;
  --secondary-hover: #6e48aa;

  --background-dark: #0b1226;
  --surface-dark: #121b33;
  --surface-dark-transparent: rgba(15, 23, 42, 0.52);

  --background-light: #f7f9ff;
  --surface-light: #ffffff;
  --surface-light-transparent: rgba(255, 255, 255, 0.58);

  --text-main: #f1f5f9;
  --text-muted: #94a3b8;

  --accent-glow: 0 0 20px rgba(0, 210, 255, 0.5);
  /* iOS-ish liquid glass tuning */
  --glass-border: 1px solid rgba(255, 255, 255, 0.22);
  --glass-shadow: 0 18px 55px rgba(0, 0, 0, 0.22);
  --glass-blur: 26px;
  --glass-saturate: 185%;
  --glass-brightness: 112%;
  --glass-contrast: 112%;
  --glass-texture-opacity: 0.06;

  /* Liquid glass background accents */
  --liquid-a: rgba(0, 210, 255, 0.35);
  --liquid-b: rgba(157, 80, 187, 0.32);
  --liquid-c: rgba(58, 123, 213, 0.22);
  --liquid-d: rgba(255, 255, 255, 0.08);

  --font-family: "Inter", system-ui, -apple-system, sans-serif;
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 26px;
}

[data-theme="light"],
:root:not([data-theme="dark"]) {
  --background: var(--background-light);
  --surface: var(--surface-light);
  --surface-transparent: var(--surface-light-transparent);
  --text-color: #0f172a;
  --text-muted-color: #64748b;
  --card-bg: #ffffff;
  --glass-panel-bg: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.68) 0%,
    rgba(255, 255, 255, 0.38) 55%,
    rgba(255, 255, 255, 0.22) 100%
  );

  /* Pico overrides (remove flat white cards/inputs) */
  --card-background-color: var(--glass-panel-bg);
  --card-border-color: rgba(15, 23, 42, 0.1);
  --form-element-background-color: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] {
  --background: var(--background-dark);
  --surface: var(--surface-dark);
  --surface-transparent: var(--surface-dark-transparent);
  --text-color: var(--text-main);
  --text-muted-color: var(--text-muted);
  --card-bg: #1e293b;
  --glass-panel-bg: linear-gradient(
    135deg,
    rgba(15, 23, 42, 0.62) 0%,
    rgba(15, 23, 42, 0.4) 55%,
    rgba(15, 23, 42, 0.28) 100%
  );

  /* Pico overrides (remove flat dark blocks too) */
  --card-background-color: var(--glass-panel-bg);
  --card-border-color: rgba(255, 255, 255, 0.12);
  --form-element-background-color: rgba(15, 23, 42, 0.4);
}

html,
body {
  min-height: 100%;
}

html {
  /* Pico sets background on :root (html). Ensure it matches our theme. */
  background-color: var(--background);
}

body {
  font-family: var(--font-family);
  /* Liquid glass background: layered gradients + floating blurred blobs */
  background-color: var(--background);
  color: var(--text-color);
  background-image:
    radial-gradient(circle at 18% 16%, var(--liquid-a) 0%, transparent 38%),
    radial-gradient(circle at 82% 24%, var(--liquid-b) 0%, transparent 42%),
    radial-gradient(circle at 22% 86%, var(--liquid-c) 0%, transparent 46%),
    radial-gradient(circle at 78% 86%, var(--liquid-d) 0%, transparent 52%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, transparent 55%),
    linear-gradient(0deg, rgba(0, 0, 0, 0.04) 0%, transparent 40%);
  background-attachment: fixed;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
  margin: 0;
  min-height: 100vh;
  isolation: isolate;
}

/* Blobs (behind content) */
body::before,
body::after {
  content: "";
  position: fixed;
  inset: auto;
  width: 520px;
  height: 520px;
  border-radius: 999px;
  filter: blur(60px);
  opacity: 0.75;
  pointer-events: none;
  z-index: -1;
  transform: translate3d(0, 0, 0);
}

body::before {
  top: -180px;
  left: -160px;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(0, 210, 255, 0.55),
    transparent 60%
  );
  animation: liquidFloatA 14s ease-in-out infinite;
}

body::after {
  bottom: -220px;
  right: -200px;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(157, 80, 187, 0.52),
    transparent 60%
  );
  animation: liquidFloatB 18s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  body::before,
  body::after {
    animation: none;
  }
}

@keyframes liquidFloatA {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(40px, 26px, 0) scale(1.06);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes liquidFloatB {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(-44px, -22px, 0) scale(1.07);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

/* Glassmorphism Utilities */
.glass-panel {
  background: var(--glass-panel-bg);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate))
    brightness(var(--glass-brightness)) contrast(var(--glass-contrast));
  -webkit-backdrop-filter: blur(var(--glass-blur))
    saturate(var(--glass-saturate)) brightness(var(--glass-brightness))
    contrast(var(--glass-contrast));
  border: var(--glass-border);
  box-shadow:
    var(--glass-shadow),
    inset 0 1px 0 rgba(255, 255, 255, 0.35),
    inset 0 -1px 0 rgba(0, 0, 0, 0.08);
  border-radius: var(--radius-md);
  position: relative;
}

.glass-panel::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  /* subtle highlight line like real glass */
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.62) 0%,
    rgba(255, 255, 255, 0.2) 22%,
    transparent 60%
  );
  opacity: 0.35;
}

/* Subtle texture + caustic-ish shimmer inside glass */
.glass-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  opacity: var(--glass-texture-opacity);
  mix-blend-mode: overlay;
  background-image:
    radial-gradient(
      circle at 18% 24%,
      rgba(255, 255, 255, 0.55),
      transparent 45%
    ),
    radial-gradient(
      circle at 82% 18%,
      rgba(255, 255, 255, 0.35),
      transparent 42%
    ),
    radial-gradient(circle at 44% 118%, rgba(0, 0, 0, 0.3), transparent 48%),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.22) 0 1px,
      transparent 1px 5px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.14) 0 1px,
      transparent 1px 7px
    );
}

/* Apply glass by default to common Pico containers used across pages */
main.container article {
  background: var(--glass-panel-bg);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate))
    brightness(var(--glass-brightness)) contrast(var(--glass-contrast));
  -webkit-backdrop-filter: blur(var(--glass-blur))
    saturate(var(--glass-saturate)) brightness(var(--glass-brightness))
    contrast(var(--glass-contrast));
  border: var(--glass-border);
  box-shadow:
    var(--glass-shadow),
    inset 0 1px 0 rgba(255, 255, 255, 0.32),
    inset 0 -1px 0 rgba(0, 0, 0, 0.08);
  border-radius: var(--radius-md);
  position: relative;
}

main.container article::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.58) 0%,
    rgba(255, 255, 255, 0.16) 22%,
    transparent 60%
  );
  opacity: 0.28;
}

main.container article::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  opacity: calc(var(--glass-texture-opacity) * 0.85);
  mix-blend-mode: overlay;
  background-image:
    radial-gradient(
      circle at 18% 24%,
      rgba(255, 255, 255, 0.55),
      transparent 45%
    ),
    radial-gradient(
      circle at 82% 18%,
      rgba(255, 255, 255, 0.35),
      transparent 42%
    ),
    radial-gradient(circle at 44% 118%, rgba(0, 0, 0, 0.3), transparent 48%),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.22) 0 1px,
      transparent 1px 5px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.14) 0 1px,
      transparent 1px 7px
    );
}

/* Glassy form controls (search boxes, selects, inputs) */
main.container input[type="text"],
main.container input[type="search"],
main.container input[type="email"],
main.container input[type="password"],
main.container input[type="url"],
main.container input[type="tel"],
main.container input[type="number"],
main.container textarea,
main.container select {
  background-color: var(--form-element-background-color);
  border: 1px solid rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

[data-theme="dark"] main.container input[type="text"],
[data-theme="dark"] main.container input[type="search"],
[data-theme="dark"] main.container input[type="email"],
[data-theme="dark"] main.container input[type="password"],
[data-theme="dark"] main.container input[type="url"],
[data-theme="dark"] main.container input[type="tel"],
[data-theme="dark"] main.container input[type="number"],
[data-theme="dark"] main.container textarea,
[data-theme="dark"] main.container select {
  border-color: rgba(255, 255, 255, 0.12);
}

@supports not (
  (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))
) {
  .glass-panel {
    /* Fallback: still looks like glass, but without true blur */
    background: rgba(255, 255, 255, 0.78);
  }
  [data-theme="dark"] .glass-panel {
    background: rgba(15, 23, 42, 0.72);
  }

  main.container article {
    background: rgba(255, 255, 255, 0.78);
  }
  [data-theme="dark"] main.container article {
    background: rgba(15, 23, 42, 0.72);
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.6s ease-out forwards;
}
